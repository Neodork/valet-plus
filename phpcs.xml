<?xml version="1.0"?>
<ruleset name="E4BR PHP Standard" namespace="E4BR\CS\Standard">

    <description>PHP Coding Standard</description>
    ​
    <arg name="basepath" value="."/>
    <arg name="colors" />
    <arg value="snp" />

    <!-- Scan all files except things managed by Composer in ./vendor. -->
    <exclude-pattern>/vendor/*</exclude-pattern>
    <exclude-pattern>*.js</exclude-pattern>
    <exclude-pattern>*.css</exclude-pattern>
    <exclude-pattern>*.html</exclude-pattern>

    <!-- Define the sources to scan here -->
    <file>./cli</file>
    ​
    <rule ref="PSR1" />
    <rule ref="PSR2" >
        <exclude name="PSR2.Classes.ClassDeclaration.OpenBraceNewLine" />
        <exclude name="PSR2.Methods.FunctionCallSignature.SpaceAfterOpenBracket" />
        <exclude name="PSR2.Methods.FunctionCallSignature.SpaceBeforeCloseBracket" />
    </rule>

    <!--                      -->
    <!-- Functions / Closures -->
    <!--                      -->

    <rule ref="Generic.Functions.OpeningFunctionBraceKernighanRitchie">
        <properties>
            <property name="checkFunctions" value="true" />
            <property name="checkClosures" value="true" />
        </properties>
    </rule>

    <!--         -->
    <!-- Strings -->
    <!--         -->

    <rule ref="Squiz.Strings.ConcatenationSpacing">
        <properties>
            <property name="spacing" value="1" />
            <property name="ignoreNewlines" value="true"/>
        </properties>
    </rule>

    <!--                       -->
    <!--  Forbidden functions  -->
    <!--                       -->

    <rule ref="Generic.PHP.ForbiddenFunctions">
        <properties>
            <property name="forbiddenFunctions" type="array"
                      value="xdebug_break=>null,
                            exit=>null,
                            eval=>null,
                            var_dump=>null,
                            print_r=>null" />
        </properties>
    </rule>

    <!--                       -->
    <!-- Discouraged functions -->
    <!--                       -->

    <rule ref="Squiz.PHP.DiscouragedFunctions">
        <properties>
            <property name="eval" value="true" />
        </properties>
    </rule>
    ​
</ruleset>